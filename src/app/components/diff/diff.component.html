<div class="container" *ngIf="_workingfile; else noDiff">
  <div *ngIf="_workingfile" class="file-opening">
    <button mat-button class="smaller" [color]="buttonColor" [disabled]="!editable" (click)="apply()">{{buttonText}}</button>
    <button mat-button class="smaller" color="warn" [disabled]="_workingfile.indexState !== 'unstaged'" (click)="discardChanges(_workingfile)">Discard Changes</button>
  </div>
  <div *ngIf="fileDiff && !fileDiff.isBinary" class="diff fancy-scroll">
    <div class="hunk-container" *ngFor="let hunk of fileDiff.hunks">
      <app-hunk [hunk]="hunk" [fileChange]="_workingfile" (hunkStatusChange)="onHunkStatusChange()" (patch)="apply($event)"></app-hunk>
    </div>
  </div>
  <div *ngIf="fileDiff && fileDiff.isBinary" class="diff fancy-scroll">
    <div class="image-container">
      <app-binarydiff [diff]="fileDiff"></app-binarydiff>
    </div>
  </div>
</div>

<!-- When no diff is provided. -->
<ng-template #noDiff>
  <div class="no-diff">
    <div>
      <img src="assets/app.png" style="opacity:0.3;">
    </div>
  </div>
</ng-template>
